<launch>
    <arg name="package" />
    <arg name="testprefix" />
    <arg name="action_namespace" />
    <arg name="node_configurable" default="false" />
    <arg name="configuration_namespace" default="none" />

    <!-- NodeState::STOPPED -->

    <test test-name="$(arg testprefix)_goal_state_aborted_after_invalid_transition" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="goal_state_aborted_after_invalid_transition" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_goal_state_aborted_after_unknown_transition" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="goal_state_aborted_after_unknown_transition" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>

    <test test-name="$(arg testprefix)_node_stopped_init_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_stopped_init_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>

    <test test-name="$(arg testprefix)_node_stopped_connect_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_stopped_connect_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_stopped_disconnect_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_stopped_disconnect_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_stopped_start_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_stopped_start_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_stopped_pause_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_stopped_pause_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_stopped_resume_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_stopped_resume_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_stopped_stop_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_stopped_stop_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>

    <!-- NodeState::NODE_CONFIGURED -->
    
    <test test-name="$(arg testprefix)_node_configured_init_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_configured_init_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_configured_connect_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_configured_connect_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_configured_disconnect_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_configured_disconnect_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_configured_start_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_configured_start_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_configured_pause_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_configured_pause_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_configured_resume_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_configured_resume_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_configured_stop_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_configured_stop_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>

    <!-- NodeState::COMPONENT_CONNECTED -->
    
    <test test-name="$(arg testprefix)_node_connected_init_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_connected_init_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_connected_connect_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_connected_connect_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_connected_disconnect_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_connected_disconnect_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_connected_start_valid_running_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_connected_start_valid_running_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_connected_pause_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_connected_pause_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_connected_resume_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_connected_resume_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_connected_stop_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_connected_stop_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <!-- NodeState::COMPONENT_DISCONNECTED -->

    <test test-name="$(arg testprefix)_node_disconnected_init_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_disconnected_init_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_disconnected_connect_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_disconnected_connect_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_disconnected_disconnect_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_disconnected_disconnect_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_disconnected_start_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_disconnected_start_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_disconnected_pause_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_disconnected_pause_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_disconnected_resume_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_disconnected_resume_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_disconnected_stop_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_disconnected_stop_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <!-- NodeState::COMPONENT_RUNNING -->

    <test test-name="$(arg testprefix)_node_running_init_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_running_init_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_running_connect_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_running_connect_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_running_disconnect_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_running_disconnect_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_running_start_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_running_start_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_running_pause_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_running_pause_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_running_resume_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_running_resume_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_running_stop_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_running_stop_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>

    <test test-name="$(arg testprefix)_node_running_stop_and_start_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_running_stop_and_start_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>

    <!-- NodeState::COMPONENT_PAUSED -->
    
    <test test-name="$(arg testprefix)_node_paused_init_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_paused_init_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_paused_connect_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_paused_connect_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_paused_disconnect_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_paused_disconnect_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_paused_start_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_paused_start_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_paused_pause_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_paused_pause_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_paused_resume_valid_success" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_paused_resume_valid_success" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>
    
    <test test-name="$(arg testprefix)_node_paused_stop_invalid" pkg="$(arg package)" type="transitions_rostest">
        <param name="test_filter" value="node_paused_stop_invalid" />
        <param name="action_namespace" value="$(arg action_namespace)" />
    </test>

    <group if="$(arg node_configurable)">
        
        <!-- NodeState::STOPPED -->

        <test test-name="$(arg testprefix)_node_stopped_init_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_stopped_init_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test>        
        
        <!-- NodeState::NODE_CONFIGURED -->

        <test test-name="$(arg testprefix)_node_configured_connect_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_configured_connect_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test>    

        <test test-name="$(arg testprefix)_node_configured_stop_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_configured_stop_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test>    
    
        <!-- NodeState::COMPONENT_CONNECTED -->

        <test test-name="$(arg testprefix)_node_connected_disconnect_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_connected_disconnect_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <test test-name="$(arg testprefix)_node_connected_start_valid_running_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_connected_start_valid_running_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <test test-name="$(arg testprefix)_node_connected_start_valid_paused_success" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_connected_start_valid_paused_success" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <test test-name="$(arg testprefix)_node_connected_start_valid_paused_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_connected_start_valid_paused_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <!-- NodeState::COMPONENT_DISCONNECTED -->

        <test test-name="$(arg testprefix)_node_disconnected_connect_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_disconnected_connect_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <test test-name="$(arg testprefix)_node_disconnected_stop_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_disconnected_stop_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <!-- NodeState::COMPONENT_RUNNING -->

        <test test-name="$(arg testprefix)_node_running_disconnect_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_running_disconnect_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <test test-name="$(arg testprefix)_node_running_pause_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_running_pause_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <!-- NodeState::COMPONENT_PAUSED -->

        <test test-name="$(arg testprefix)_node_paused_disconnect_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_paused_disconnect_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

        <test test-name="$(arg testprefix)_node_paused_resume_valid_fail" pkg="$(arg package)" type="transitions_rostest">
            <param name="test_filter" value="node_paused_resume_valid_fail" />
            <param name="action_namespace" value="$(arg action_namespace)" />
            <param name="configuration_namespace" value="$(arg configuration_namespace)" />
        </test> 

    </group>

</launch>